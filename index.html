<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Âç°ÁâáÂ≠¶‰π†Á≥ªÁªü v3 (ÂØºËà™+ÂØºÂá∫+‰ºòÂåñ)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
    <style>
        .mermaid-diagram svg { max-width: 100%; height: auto; }
        [v-cloak] { display: none; }
        .modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.5); display: flex;
            align-items: center; justify-content: center; z-index: 1000;
        }
        .modal-content { background-color: white; padding: 20px; border-radius: 8px; max-width: 600px; width: 90%; max-height: 80vh; overflow-y: auto; }
        .modal-close { position: absolute; top: 10px; right: 10px; cursor: pointer; font-size: 1.5rem; line-height: 1; }
        /* Custom tag styles */
        .tag {
            display: inline-block;
            padding: 0.1rem 0.5rem;
            margin-right: 0.25rem;
            margin-bottom: 0.25rem; /* Added for wrapping */
            font-size: 0.75rem; /* text-xs */
            font-weight: 500; /* medium */
            border-radius: 0.375rem; /* rounded-md */
        }
        /* Define some tag colors (you can expand this) */
        .tag-js { background-color: #f0db4f; color: #323330; }
        .tag-html { background-color: #e44d26; color: white; }
        .tag-css { background-color: #264de4; color: white; }
        .tag-vue { background-color: #41b883; color: white; }
        .tag-general { background-color: #6b7280; color: white; } /* gray-500 */
         /* Sidebar item padding */
        .sidebar-item {
            padding: 0.3rem 0.5rem;
        }
        /* Card padding */
        .card-padding { padding: 1rem; }
        .card-header-padding { padding: 0.75rem 1rem; }
        /* Tighter spacing for quiz options */
        .quiz-options { margin-bottom: 0.75rem; }
        .quiz-option-label { padding: 0.5rem 0.75rem; }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 font-sans">
    <div id="app" class="flex flex-col h-screen" v-cloak>
        <!-- Header -->
        <header class="bg-white shadow-md px-4 py-3 border-b border-gray-200 flex justify-between items-center shrink-0">
            <h1 class="text-xl font-bold text-gray-700">{{ learningData.title }}</h1>
            <div class="flex items-center">
                <div class="text-base font-semibold mr-4 text-gray-600">
                    ÂÖ®Â±ÄËøõÂ∫¶: {{ Math.round(globalProgress * 100) }}%
                </div>
                <button @click="expandAllCards" class="px-3 py-1 mr-2 bg-gray-200 text-gray-700 rounded text-sm hover:bg-gray-300 transition-colors">ÂÖ®Â±ÄÂ±ïÂºÄ</button>
                <button @click="collapseAllCards" class="px-3 py-1 mr-2 bg-gray-200 text-gray-700 rounded text-sm hover:bg-gray-300 transition-colors">ÂÖ®Â±ÄÊäòÂè†</button>
                <button @click="showExportModal = true" class="px-3 py-1 bg-indigo-500 text-white rounded text-sm hover:bg-indigo-600 shadow-sm transition-colors">
                    ÂØºÂá∫ËøõÂ∫¶
                </button>
            </div>
        </header>

        <div class="flex flex-1 overflow-hidden">
            <!-- Left Sidebar: Navigation Tree (Optimized) -->
             <aside class="w-72 bg-white border-r border-gray-200 overflow-y-auto p-4 shrink-0">
                <nav>
                    <ul>
                        <li v-for="section in learningData.sections" :key="section.id" class="mb-3">
                            <div @click="section.isNavCollapsed = !section.isNavCollapsed" class="flex items-center cursor-pointer mb-1 p-1 rounded hover:bg-gray-100">
                                <span class="mr-2 text-lg w-4">{{ section.isNavCollapsed ? '‚ñ∂' : '‚ñº' }}</span>
                                <span class="font-semibold text-gray-700 flex-1 mr-2">{{ section.title }}</span>
                                <span class="text-lg ml-auto" v-html="getSectionStatusIcon(section)"></span>
                            </div>
                            <ul v-if="!section.isNavCollapsed" class="ml-5 text-sm border-l pl-3 border-gray-200">
                                <li v-for="card in section.cards" :key="card.id"
                                    @click="scrollToCard(card.id)"
                                    class="sidebar-item rounded hover:bg-indigo-50 cursor-pointer flex items-center text-gray-600 hover:text-indigo-700">
                                    <span class="mr-2 w-4" :class="{'text-green-500 font-bold': card.quiz?.submitted, 'text-gray-400': !card.quiz?.submitted}">
                                        {{ card.quiz?.submitted ? '‚úì' : '‚óã' }}
                                    </span>
                                    <span class="flex-1">{{ card.title }}</span>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </nav>
            </aside>

            <!-- Right Content Area: Cards (Optimized) -->
             <main class="flex-1 overflow-y-auto p-6 bg-gray-50" ref="mainContent">
                <div v-for="section in learningData.sections" :key="'main-'+section.id" class="mb-8">
                    <h2 class="text-2xl font-bold mb-4 border-b pb-2 text-gray-700">{{ section.title }}</h2>
                    <div class="space-y-5">
                        <div v-for="card in section.cards" :key="'main-'+card.id"
                             :id="'card-' + card.id"
                             class="border border-gray-200 rounded-lg shadow-sm bg-white overflow-hidden transition-shadow hover:shadow-md">

                             <!-- Card Header (Optimized) -->
                             <div @click="toggleCard(card)" class="card-header-padding flex justify-between items-center cursor-pointer bg-gray-50 hover:bg-gray-100 border-b border-gray-200">
                                <div>
                                    <h3 class="font-semibold text-gray-800">{{ card.title }}</h3>
                                     <!-- Tags Display -->
                                    <div v-if="card.tags && card.tags.length" class="mt-1 flex flex-wrap">
                                        <span v-for="tag in card.tags" :key="tag"
                                              class="tag" :class="getTagClass(tag)">
                                            {{ tag }}
                                        </span>
                                    </div>
                                </div>
                                <button class="text-gray-500 text-sm">
                                    {{ card.isCollapsed ? 'Â±ïÂºÄ ‚ñº' : 'ÊäòÂè† ‚ñ≤' }}
                                </button>
                            </div>

                            <!-- Card Content -->
                            <div v-if="!card.isCollapsed" class="card-padding">
                                <div class="flex flex-col md:flex-row gap-5">
                                    <div v-if="card.visualization?.type === 'mermaid'" class="w-full md:w-5/12 mb-4 md:mb-0 flex-shrink-0">
                                        <div :id="'mermaid-' + card.id" class="mermaid-diagram border p-3 rounded bg-gray-50 overflow-auto"></div>
                                    </div>
                                    <div class="w-full prose prose-sm sm:prose lg:prose-base max-w-none text-gray-700" :class="{'md:w-7/12': card.visualization}" v-html="card.content"></div>
                                </div>
                                <div v-if="card.quiz" class="mt-6 pt-4 border-t border-gray-200">
                                     <p class="font-semibold mb-3 text-gray-800">ü§î {{ card.quiz.question }}</p>
                                    <div class="space-y-2 quiz-options">
                                        <label v-for="(option, index) in card.quiz.options" :key="index"
                                              class="quiz-option-label flex items-center border rounded hover:bg-indigo-50 cursor-pointer transition-colors"
                                              :class="{'bg-gray-100 border-gray-300': card.quiz.userAnswer === option, 'border-gray-200': card.quiz.userAnswer !== option}">
                                            <input type="radio" :id="card.id + '-option-' + index" :name="card.id + '-quiz'" :value="option" v-model="card.quiz.userAnswer" :disabled="card.quiz.submitted" class="mr-3 h-4 w-4 text-indigo-600 border-gray-300 focus:ring-indigo-500">
                                            <span class="text-gray-700">{{ option }}</span>
                                        </label>
                                    </div>
                                    <div>
                                        <button v-if="!card.quiz.submitted" @click="submitQuiz(card)" :disabled="card.quiz.userAnswer === null" class="px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm transition-colors">Êèê‰∫§Á≠îÊ°à</button>
                                        <div v-if="card.quiz.submitted" class="mt-3 p-3 rounded text-sm border"
                                             :class="{
                                                 'bg-green-50 border-green-300 text-green-800': card.quiz.isCorrect,
                                                 'bg-red-50 border-red-300 text-red-800': !card.quiz.isCorrect
                                             }">
                                            <span v-if="card.quiz.isCorrect" class="font-bold">‚úì Ê≠£Á°Æ!</span>
                                            <span v-else class="font-bold">‚úó ÈîôËØØ. Ê≠£Á°ÆÁ≠îÊ°àÊòØ: {{ card.quiz.answer }}</span>
                                            <p v-if="card.quiz.explanation" class="mt-1 opacity-90">{{ card.quiz.explanation }}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Export Modal (same as v2) -->
        <div v-if="showExportModal" class="modal" @click.self="showExportModal = false">
             <div class="modal-content relative">
                <span @click="showExportModal = false" class="modal-close">&times;</span>
                <h3 class="text-lg font-semibold mb-4">ÂØºÂá∫Â≠¶‰π†ËøõÂ∫¶ (JSON)</h3>
                <textarea id="exportDataTextarea" class="w-full h-48 border rounded p-2 font-mono text-xs bg-gray-50 mb-4" readonly>{{ exportDataString }}</textarea>
                <div class="flex justify-end space-x-2">
                     <button id="copyBtn"
                            :data-clipboard-target="'#exportDataTextarea'"
                            class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
                       Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø
                    </button>
                    <button @click="downloadJson" class="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600">
                        ‰∏ãËΩΩ JSON Êñá‰ª∂
                    </button>
                 </div>
                 <p id="copyFeedback" class="text-sm text-green-600 mt-2 h-4"></p>
            </div>
        </div>

    </div>

    <script>
        mermaid.initialize({ startOnLoad: false, theme: 'neutral' });

        const app = Vue.createApp({
            data() {
                return {
                    showExportModal: false,
                    learningData: {
    "title": "‰ºòÂåñ7Â≤ÅÁî∑Â≠©ÊïôËÇ≤ÁöÑÁßëÂ≠¶ÊñπÊ≥ï",
    "sections": [
        {
            "id": "sec1",
            "title": "ÁêÜËß£7Â≤ÅÁî∑Â≠©ÁöÑÂèëÂ±ïÁâπÁÇπ",
            "isNavCollapsed": false,
            "cards": [
                {
                    "id": "c1_1",
                    "title": "ËÆ§Áü•‰∏éÊÄùÁª¥ÂèëÂ±ï",
                    "isCollapsed": false,
                    "visualization": {
                        "type": "mermaid",
                        "data": "graph LR\nA[7Â≤ÅËÆ§Áü•] --> B(ÂÖ∑‰ΩìËøêÁÆóÊÄùÁª¥<br>ÂºÄÂßãÈÄªËæëÊÄùËÄÉ);\nA --> C(Ê≥®ÊÑèÂäõ<br>ÊåÅÁª≠Êó∂Èó¥Â¢ûÈïøÔºå‰ªçÊòìÂàÜÊï£);\nA --> D(ËÆ∞ÂøÜÂäõ<br>Êú∫Ê¢∞ËÆ∞ÂøÜ‰∏∫‰∏ªÔºåÁêÜËß£ËÆ∞ÂøÜÂèëÂ±ï);\nA --> E(ËØ≠Ë®ÄËÉΩÂäõ<br>Ë°®ËææÊõ¥Ê∏ÖÊô∞ÔºåËØçÊ±áÈáèÂ¢ûÂä†);"
                    },
                    "content": "<p>7Â≤ÅÁî∑Â≠©ÈÄöÂ∏∏Â§Ñ‰∫éÁöÆ‰∫öÊù∞ËÆ§Áü•ÂèëÂ±ïÁêÜËÆ∫ÁöÑ<strong>ÂÖ∑‰ΩìËøêÁÆóÈò∂ÊÆµ</strong>„ÄÇ</p><ul><li>ÂºÄÂßãËÉΩÂ§üËøõË°åÂàùÊ≠•ÁöÑÈÄªËæëÊÄùËÄÉÔºå‰ΩÜ‰ªçÈúÄ‰æùËµñÂÖ∑‰Ωì‰∫ãÁâ©„ÄÇ</li><li>Ê≥®ÊÑèÂäõÊåÅÁª≠Êó∂Èó¥ÊØî‰ª•ÂâçÈïøÔºå‰ΩÜÂÆπÊòìÂèóÂà∞Êñ∞È≤ú‰∫ãÁâ©ÁöÑÂπ≤Êâ∞„ÄÇ</li><li>ËÆ∞ÂøÜÂäõ‰ª•ÂΩ¢Ë±°ÂíåÊú∫Ê¢∞ËÆ∞ÂøÜ‰∏∫‰∏ªÔºåÈÄêÊ≠•ÂèëÂ±ïÁêÜËß£ËÆ∞ÂøÜ„ÄÇ</li><li>ËØ≠Ë®ÄË°®ËææËÉΩÂäõÂ¢ûÂº∫ÔºåËÉΩÊõ¥Ê∏ÖÊô∞Âú∞Ë°®ËææÈúÄÊ±ÇÂíåÊÉ≥Ê≥ï„ÄÇ</li></ul><p>ÁêÜËß£Ëøô‰∫õÁâπÁÇπÊúâÂä©‰∫éÂÆ∂ÈïøË∞ÉÊï¥ÊúüÊúõÂíåÊïôËÇ≤ÊñπÂºè„ÄÇ</p>",
                    "tags": ["7Â≤Å", "ËÆ§Áü•ÂèëÂ±ï", "ÁöÆ‰∫öÊù∞", "ÈÄªËæëÊÄùÁª¥"],
                    "quiz": {
                        "question": "7Â≤ÅÁî∑Â≠©ÁöÑÊÄùÁª¥‰∏ªË¶ÅÂ§Ñ‰∫éÂì™‰∏™Èò∂ÊÆµÔºü",
                        "options": ["ÊÑüÁü•ËøêÂä®Èò∂ÊÆµ", "ÂâçËøêÁÆóÈò∂ÊÆµ", "ÂÖ∑‰ΩìËøêÁÆóÈò∂ÊÆµ", "ÂΩ¢ÂºèËøêÁÆóÈò∂ÊÆµ"],
                        "answer": "ÂÖ∑‰ΩìËøêÁÆóÈò∂ÊÆµ",
                        "explanation": "Ê†πÊçÆÁöÆ‰∫öÊù∞ÁêÜËÆ∫Ôºå7-11Â≤ÅÂÑøÁ´•‰∏ªË¶ÅÂ§Ñ‰∫éÂÖ∑‰ΩìËøêÁÆóÈò∂ÊÆµÔºåÂºÄÂßãËÉΩÂ§üËøõË°åÈÄªËæëÊÄùËÄÉÔºå‰ΩÜÈúÄË¶ÅÂÖ∑‰Ωì‰∫ãÁâ©ËæÖÂä©„ÄÇ",
                        "userAnswer": null, "isCorrect": null, "submitted": false
                    }
                },
                {
                    "id": "c1_2",
                    "title": "ÊÉÖÊÑü‰∏éÁ§æ‰∫§ÂèëÂ±ï",
                    "isCollapsed": true,
                    "visualization": null,
                    "content": "<p>7Â≤ÅÊòØÂ≠©Â≠êÊÉÖÊÑüÂíåÁ§æ‰∫§ËÉΩÂäõÂèëÂ±ïÁöÑÂÖ≥ÈîÆÊúüÔºö</p><ul><li><strong>Ëá™ÊàëÊÑèËØÜÂ¢ûÂº∫</strong>ÔºöÂºÄÂßãÊõ¥ÂÖ≥Ê≥®Ëá™ÊàëËØÑ‰ª∑Âíå‰ªñ‰∫∫ÁúãÊ≥ï„ÄÇ</li><li><strong>ËßÑÂàôÊÑèËØÜÂΩ¢Êàê</strong>ÔºöÈÄêÊ∏êÁêÜËß£ËßÑÂàôÁöÑÈáçË¶ÅÊÄßÔºå‰ΩÜÊâßË°å‰∏äÂèØËÉΩÊúâÊ≥¢Âä®„ÄÇ</li><li><strong>ÂèãË∞äÈúÄÊ±ÇÂ¢ûÂä†</strong>ÔºöÊ∏¥ÊúõÂêå‰º¥Êé•Á∫≥ÔºåÂºÄÂßãÂΩ¢ÊàêÊõ¥Á®≥ÂÆöÁöÑÂ∞èÂõ¢‰Ωì„ÄÇ</li><li><strong>ÊÉÖÁª™ÁÆ°ÁêÜËÉΩÂäõÂàùÊ≠•ÂèëÂ±ï</strong>ÔºöÂºÄÂßãÂ≠¶‰π†ËØÜÂà´ÂíåË°®ËææÊÉÖÁª™Ôºå‰ΩÜ‰ªçÈúÄÂºïÂØº„ÄÇ</li><li><strong>Á´û‰∫âÊÑèËØÜÊòæÁé∞</strong>ÔºöÂú®Ê∏∏ÊàèÂíåÂ≠¶‰π†‰∏≠ÂèØËÉΩË°®Áé∞Âá∫‰∏ÄÂÆöÁöÑÁ´û‰∫âÊÄß„ÄÇ</li></ul><p>ÂÆ∂ÈïøÈúÄÂÖ≥Ê≥®Â≠©Â≠êÁöÑÊÉÖÊÑüÈúÄÊ±ÇÔºåÂºïÂØºÂÖ∂Âª∫Á´ãÂÅ•Â∫∑ÁöÑÁ§æ‰∫§ÂÖ≥Á≥ª„ÄÇ</p>",
                    "tags": ["7Â≤Å", "ÊÉÖÊÑüÂèëÂ±ï", "Á§æ‰∫§", "ÊÉÖÂïÜ", "ËßÑÂàôÊÑèËØÜ"],
                    "quiz": {
                        "question": "7Â≤ÅÁî∑Â≠©Âú®Á§æ‰∫§ÊñπÈù¢ÁöÑ‰∏ªË¶ÅÁâπÁÇπÊòØÔºü",
                        "options": ["ÂÆåÂÖ®‰ª•Ëá™Êàë‰∏∫‰∏≠ÂøÉ", "ÂºÄÂßãÊ∏¥ÊúõÂêå‰º¥Êé•Á∫≥", "ÂØπËßÑÂàôÂÆåÂÖ®‰∏çÁêÜËß£", "ÊÉÖÁª™ÁÆ°ÁêÜËÉΩÂäõÊàêÁÜü"],
                        "answer": "ÂºÄÂßãÊ∏¥ÊúõÂêå‰º¥Êé•Á∫≥",
                        "explanation": "7Â≤ÅÂ∑¶Âè≥ÁöÑÂ≠©Â≠êÂºÄÂßãÈùûÂ∏∏ÁúãÈáçÂêå‰º¥ÂÖ≥Á≥ªÔºåÂèãË∞äÂØπÂÖ∂Á§æ‰∫§ÂèëÂ±ïËá≥ÂÖ≥ÈáçË¶Å„ÄÇ",
                        "userAnswer": null, "isCorrect": null, "submitted": false
                    }
                }
            ]
        },
        {
            "id": "sec2",
            "title": "ÊúâÊïàÁöÑÊ≤üÈÄö‰∏éÊÉÖÊÑüÂºïÂØº",
            "isNavCollapsed": false,
            "cards": [
                {
                    "id": "c2_1",
                    "title": "ÁßØÊûÅÂÄæÂê¨‰∏éÂÖ±ÊÉÖ",
                    "isCollapsed": false,
                    "visualization": {
                        "type": "mermaid",
                        "data": "graph TD\nA[ÊúâÊïàÊ≤üÈÄö] --> B(ÁßØÊûÅÂÄæÂê¨<br>Êîæ‰∏ãÊâãÊú∫ÔºåÁúºÁ•û‰∫§ÊµÅ);\nA --> C(Ë°®ËææÂÖ±ÊÉÖ<br>‚ÄúÊàëÁü•ÈÅì‰Ω†ÂæàÈöæËøá‚Äù);\nB --> D[ÁêÜËß£Â≠©Â≠êÊÑüÂèó];\nC --> D;\nD --> E(Âª∫Á´ã‰ø°‰ªªÂÖ≥Á≥ª);"
                    },
                    "content": "<p>‰∏é7Â≤ÅÁî∑Â≠©ÊúâÊïàÊ≤üÈÄöÁöÑÂü∫Á°ÄÊòØÂÄæÂê¨ÂíåÂÖ±ÊÉÖÔºö</p><ul><li><strong>ÁßØÊûÅÂÄæÂê¨</strong>ÔºöÊîæ‰∏ãÊâã‰∏≠ÁöÑ‰∫ãÔºå‰∏ìÊ≥®Âú∞Âê¨Â≠©Â≠êËØ¥ËØùÔºåÁî®ÁúºÁ•ûÂíåÁÇπÂ§¥Ë°®Á§∫‰Ω†Âú®Âê¨„ÄÇ</li><li><strong>Â∞ùËØïÁêÜËß£ÊÑüÂèó</strong>Ôºö‰∏çË¶ÅÊÄ•‰∫éËØÑÂà§ÊàñËØ¥ÊïôÔºåÂÖàËØïÁùÄÁêÜËß£‰ªñË°å‰∏∫ËÉåÂêéÁöÑÊÑüÂèóÔºàÂ¶ÇÔºö‚Äú‰Ω†ÂæàÁîüÊ∞îÔºåÂõ†‰∏∫...‚ÄùÔºâ„ÄÇ</li><li><strong>Ë°®ËææÂÖ±ÊÉÖ</strong>ÔºöÁî®ËØ≠Ë®ÄË°®Ëææ‰Ω†ÁêÜËß£‰ªñÁöÑÊÑüÂèóÔºàÂ¶ÇÔºö‚ÄúÊàëÁü•ÈÅìËøôËÆ©‰Ω†ÂæàÈöæËøá/Â§±Êúõ‚ÄùÔºâ„ÄÇ</li><li><strong>ÈÅøÂÖçÊâìÊñ≠ÂíåÂê¶ÂÆö</strong>ÔºöËÆ©Â≠©Â≠êÂÆåÊï¥Ë°®ËææÔºåÂç≥‰Ωø‰Ω†‰∏çÂêåÊÑè‰ªñÁöÑËßÇÁÇπ„ÄÇ</li></ul><p>ÂÖ±ÊÉÖ‰∏çÊòØÂêåÊÑèÔºåËÄåÊòØÁêÜËß£ÂíåÊé•Á∫≥‰ªñÁöÑÊÉÖÁª™„ÄÇ</p>",
                    "tags": ["Ê≤üÈÄöÊäÄÂ∑ß", "ÁßØÊûÅÂÄæÂê¨", "ÂÖ±ÊÉÖ", "‰∫≤Â≠êÂÖ≥Á≥ª"],
                    "quiz": {
                        "question": "ÁßØÊûÅÂÄæÂê¨ÊúÄÈáçË¶ÅÁöÑË°®Áé∞ÊòØÔºü",
                        "options": ["È©¨‰∏äÁªôÂá∫Âª∫ËÆÆ", "‰∏ìÊ≥®Âú∞Âê¨Âπ∂ÁêÜËß£ÊÑüÂèó", "ÂëäËØâÂ≠©Â≠ê‰ªñÊÉ≥Èîô‰∫Ü", "‰∏ÄËæπÁúãÊâãÊú∫‰∏ÄËæπÂê¨"],
                        "answer": "‰∏ìÊ≥®Âú∞Âê¨Âπ∂ÁêÜËß£ÊÑüÂèó",
                        "explanation": "ÁßØÊûÅÂÄæÂê¨ÁöÑÊ†∏ÂøÉÂú®‰∫é‰∏ìÊ≥®„ÄÅÁêÜËß£ÂíåÊé•Á∫≥ÂØπÊñπÁöÑË°®ËææÔºåËÄåÈùûÊÄ•‰∫éËØÑÂà§ÊàñÁªôÂá∫Âª∫ËÆÆ„ÄÇ",
                        "userAnswer": null, "isCorrect": null, "submitted": false
                    }
                },
                {
                    "id": "c2_2",
                    "title": "Ê∏ÖÊô∞Ë°®ËææÊúüÊúõ‰∏éËßÑÂàô",
                    "isCollapsed": true,
                    "visualization": null,
                    "content": "<p>Âêë7Â≤ÅÁî∑Â≠©‰º†ËææËßÑÂàôÂíåÊúüÊúõÊó∂ÔºåË¶ÅÊ∏ÖÊô∞ÂÖ∑‰ΩìÔºö</p><ul><li><strong>ËØ≠Ë®ÄÁÆÄÊ¥ÅÊòéÁ°Æ</strong>Ôºö‰ΩøÁî®ÁÆÄÂçï„ÄÅÁõ¥Êé•ÁöÑËØ≠Ë®ÄÔºåÈÅøÂÖçÊ®°Á≥ä‰∏çÊ∏ÖÁöÑËØçËØ≠„ÄÇ</li><li><strong>ËØ¥ÊòéÂéüÂõ†</strong>ÔºöÁÆÄË¶ÅËß£ÈáäËßÑÂàôËÉåÂêéÁöÑÂéüÂõ†ÔºàÂ¶ÇÔºö‚ÄúËøáÈ©¨Ë∑ØÁúãËΩ¶ÊòØ‰∏∫‰∫ÜÂÆâÂÖ®‚ÄùÔºâÔºåÂ∏ÆÂä©Â≠©Â≠êÁêÜËß£„ÄÇ</li><li><strong>Ê≠£Èù¢Ë°®Ëææ</strong>ÔºöÂ§öÁî®‚ÄúÊàëÂ∏åÊúõ‰Ω†...‚Äù‰ª£Êõø‚Äú‰Ω†‰∏çË¶Å...‚ÄùÔºàÂ¶ÇÔºö‚ÄúËØ∑ÊääÁé©ÂÖ∑ÊîæÂõûÂéüÂ§Ñ‚Äù‰ºò‰∫é‚Äú‰∏çË¶Å‰π±‰∏¢Áé©ÂÖ∑‚ÄùÔºâ„ÄÇ</li><li><strong>‰øùÊåÅ‰∏ÄËá¥ÊÄß</strong>ÔºöÁà∂ÊØçÂèåÊñπÂíåÂú®‰∏çÂêåÊÉÖÂ¢É‰∏ãÈÉΩË¶ÅÂ∞ΩÈáè‰øùÊåÅËßÑÂàôÁöÑ‰∏ÄËá¥ÊÄß„ÄÇ</li><li><strong>Áªô‰∫àÈÄâÊã©</strong>ÔºöÂú®ÂÖÅËÆ∏ËåÉÂõ¥ÂÜÖÊèê‰æõÊúâÈôêÁöÑÈÄâÊã©ÔºåËÆ©Â≠©Â≠êÊÑüÂà∞Ë¢´Â∞äÈáçÔºàÂ¶ÇÔºö‚Äú‰Ω†ÊÉ≥ÂÖàÊ¥óÊæ°ËøòÊòØÂÖàÂà∑ÁâôÔºü‚ÄùÔºâ„ÄÇ</li></ul>",
                    "tags": ["Ê≤üÈÄöÊäÄÂ∑ß", "ËßÑÂàôÂª∫Á´ã", "Ê≠£Èù¢ÁÆ°Êïô", "‰∏ÄËá¥ÊÄß"],
                    "quiz": {
                        "question": "ÂêëÂ≠©Â≠ê‰º†ËææËßÑÂàôÊó∂ÔºåÂì™ÁßçÊñπÂºèÊõ¥ÊúâÊïàÔºü",
                        "options": ["‚Äú‰∏çË¶ÅÂêµÈóπÔºÅ‚Äù", "‚Äú‰∏∫‰ªÄ‰πà‰Ω†ÊÄªÊòØËøô‰πàÂêµÔºü‚Äù", "‚ÄúËØ∑Áé∞Âú®Â∞èÂ£∞‰∏ÄÁÇπÔºåÂ•ΩÂêóÔºü‚Äù", "‚ÄúÂÜçÂêµÂ∞±ÂÖ≥Á¶ÅÈó≠ÔºÅ‚Äù"],
                        "answer": "‚ÄúËØ∑Áé∞Âú®Â∞èÂ£∞‰∏ÄÁÇπÔºåÂ•ΩÂêóÔºü‚Äù",
                        "explanation": "Ê≠£Èù¢„ÄÅÊ∏ÖÊô∞„ÄÅÂÖ∑‰ΩìÁöÑÊåá‰ª§Êõ¥ÂÆπÊòìË¢´Â≠©Â≠êÁêÜËß£ÂíåÊé•Âèó„ÄÇ",
                        "userAnswer": null, "isCorrect": null, "submitted": false
                    }
                },
                {
                    "id": "c2_3",
                    "title": "ÂºïÂØºÊÉÖÁª™Ë°®Ëææ‰∏éÁÆ°ÁêÜ",
                    "isCollapsed": true,
                    "visualization": null,
                    "content": "<p>Â∏ÆÂä©7Â≤ÅÁî∑Â≠©Â≠¶‰π†ÁÆ°ÁêÜÊÉÖÁª™ÈùûÂ∏∏ÈáçË¶ÅÔºö</p><ul><li><strong>ËÆ§ËØÜÂíåÂëΩÂêçÊÉÖÁª™</strong>ÔºöÂºïÂØºÂ≠©Â≠êËØÜÂà´Âπ∂ËØ¥Âá∫Ëá™Â∑±ÁöÑÊÑüÂèóÔºàÂ¶ÇÔºö‚Äú‰Ω†ÁúãËµ∑Êù•ÂæàÊ≤Æ‰∏ß‚ÄùÔºâ„ÄÇ</li><li><strong>Êé•Á∫≥ÊâÄÊúâÊÉÖÁª™</strong>ÔºöÂëäËØâÂ≠©Â≠êÊâÄÊúâÊÉÖÁª™ÈÉΩÊòØÊ≠£Â∏∏ÁöÑÔºåÂÖ≥ÈîÆÊòØÂ¶Ç‰ΩïË°®ËææÂíåÂ∫îÂØπ„ÄÇ</li><li><strong>ÊïôÊéàÂÅ•Â∫∑ÁöÑÂ∫îÂØπÊñπÂºè</strong>ÔºöÂΩìÂ≠©Â≠êÁîüÊ∞îÊàñÈöæËøáÊó∂ÔºåÂºïÂØº‰ªñÁî®ËØ≠Ë®ÄË°®Ëææ„ÄÅÊ∑±ÂëºÂê∏„ÄÅÁîªÁîªÊàñÁü≠ÊöÇÁ¶ªÂºÄÁ≠âÊñπÂºèÊõø‰ª£ÊîªÂáªÊÄßË°å‰∏∫„ÄÇ</li><li><strong>Áà∂ÊØçÂÅöÂ•ΩÊ¶úÊ†∑</strong>ÔºöÁà∂ÊØçËá™Ë∫´ÁöÑÊÉÖÁª™ÁÆ°ÁêÜÊñπÂºèÂØπÂ≠©Â≠êÊúâÊ∑±ËøúÂΩ±Âìç„ÄÇ</li><li><strong>ÂàõÈÄ†ÂÆâÂÖ®Ë°®ËææÁöÑÁéØÂ¢É</strong>ÔºöËÆ©Â≠©Â≠êÁü•ÈÅìÂèØ‰ª•ÂÆâÂÖ®Âú∞Âêë‰Ω†Ë°®Ëææ‰ªª‰ΩïÊÉÖÁª™„ÄÇ</li></ul>",
                    "tags": ["ÊÉÖÂïÜ", "ÊÉÖÁª™ÁÆ°ÁêÜ", "ÊÉÖÊÑüÂºïÂØº", "Ê¶úÊ†∑"],
                    "quiz": {
                        "question": "ÂΩìÂ≠©Â≠êÁîüÊ∞îÊó∂Ôºå‰ª•‰∏ãÂì™ÁßçÂºïÂØºÊñπÂºèÊØîËæÉÂèØÂèñÔºü",
                        "options": ["‚Äú‰∏çËÆ∏ÁîüÊ∞îÔºÅ‚Äù", "‚ÄúÁî∑Â≠©Â≠êÂì≠‰ªÄ‰πàÂì≠ÔºÅ‚Äù", "‚Äú‰Ω†ÂèØ‰ª•ÁîüÊ∞îÔºå‰ΩÜ‰∏çËÉΩÊâì‰∫∫„ÄÇËØïËØïÊ∑±ÂëºÂê∏ÊÄé‰πàÊ†∑Ôºü‚Äù", "‚ÄúËá™Â∑±Âéª‰∏ÄËæπÂÜ∑ÈùôÔºÅ‚Äù"],
                        "answer": "‚Äú‰Ω†ÂèØ‰ª•ÁîüÊ∞îÔºå‰ΩÜ‰∏çËÉΩÊâì‰∫∫„ÄÇËØïËØïÊ∑±ÂëºÂê∏ÊÄé‰πàÊ†∑Ôºü‚Äù",
                        "explanation": "Êé•Á∫≥ÊÉÖÁª™ÔºåÂêåÊó∂ËÆæÂÆöË°å‰∏∫ËæπÁïåÔºåÂπ∂Êèê‰æõÂÖ∑‰ΩìÁöÑÂ∫îÂØπÁ≠ñÁï•„ÄÇ",
                        "userAnswer": null, "isCorrect": null, "submitted": false
                    }
                }
            ]
        },
        {
            "id": "sec3",
            "title": "ÂüπÂÖªÂ≠¶‰π†ÂÖ¥Ë∂£‰∏é‰π†ÊÉØ",
            "isNavCollapsed": false,
            "cards": [
                {
                    "id": "c3_1",
                    "title": "‰øùÊä§Â•ΩÂ•áÂøÉ‰∏éÊé¢Á¥¢Ê¨≤",
                    "isCollapsed": false,
                    "visualization": {
                        "type": "mermaid",
                        "data": "graph LR\nA(‰øùÊä§Â•ΩÂ•áÂøÉ) --> B{ÈºìÂä±ÊèêÈóÆ};\nA --> C{Êèê‰æõÊé¢Á¥¢Êú∫‰ºö<br>ÂçöÁâ©È¶Ü/Ëá™ÁÑ∂/ÂÆûÈ™å};\nA --> D{ÂÖÅËÆ∏ËØïÈîô};\nB & C & D --> E(ÂÜÖÂú®Â≠¶‰π†Âä®Âäõ);"
                    },
                    "content": "<p>Â•ΩÂ•áÂøÉÊòØÂ≠¶‰π†ÁöÑÊ∫êÂä®ÂäõÔºåÈúÄË¶ÅÁ≤æÂøÉÂëµÊä§Ôºö</p><ul><li><strong>ÈºìÂä±ÊèêÈóÆ</strong>ÔºöËÆ§ÁúüÂØπÂæÖÂ≠©Â≠êÁöÑÊØè‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂç≥‰ΩøÊöÇÊó∂Êó†Ê≥ïÂõûÁ≠îÔºå‰πüË¶ÅËÇØÂÆö‰ªñÊèêÈóÆÁöÑË°å‰∏∫„ÄÇ</li><li><strong>Êèê‰æõÊé¢Á¥¢ÁéØÂ¢É</strong>ÔºöÂàõÈÄ†Êú∫‰ºöËÆ©Â≠©Â≠êÊé•Ëß¶Ëá™ÁÑ∂„ÄÅÁßëÂ≠¶„ÄÅËâ∫ÊúØÁ≠âÔºåÂ¶ÇÂõæ‰π¶„ÄÅÂçöÁâ©È¶Ü„ÄÅÊà∑Â§ñÊ¥ªÂä®„ÄÅÁÆÄÂçïÁöÑÁßëÂ≠¶ÂÆûÈ™å„ÄÇ</li><li><strong>ÊîØÊåÅÂ≠©Â≠êÁöÑÂÖ¥Ë∂£</strong>ÔºöÂèëÁé∞Â≠©Â≠êÁöÑÂÖ¥Ë∂£ÁÇπÔºåÂπ∂Êèê‰æõÁõ∏Â∫îÁöÑËµÑÊ∫êÂíåÊîØÊåÅ„ÄÇ</li><li><strong>ÂÖÅËÆ∏Â∞ùËØïÂíåÁäØÈîô</strong>ÔºöÂ∞ÜÈîôËØØËßÜ‰∏∫Â≠¶‰π†ÁöÑÊú∫‰ºöÔºåËÄåÈùûÂ§±Ë¥•„ÄÇ</li><li><strong>ÈÅøÂÖçËøáÂ∫¶ÂäüÂà©Âåñ</strong>Ôºö‰∏çË¶ÅËÆ©ÊâÄÊúâÂ≠¶‰π†ÈÉΩÊåáÂêëËÄÉËØïÊàñÊàêÁª©Ôºå‰øùÊä§Â≠¶‰π†Êú¨Ë∫´ÁöÑ‰πêË∂£„ÄÇ</li></ul>",
                    "tags": ["Â≠¶‰π†ÂÖ¥Ë∂£", "Â•ΩÂ•áÂøÉ", "Êé¢Á¥¢", "ÂÜÖÂú®Âä®Êú∫"],
                    "quiz": {
                        "question": "‰øùÊä§Â≠©Â≠êÂ•ΩÂ•áÂøÉÁöÑÂÖ≥ÈîÆÂú®‰∫éÔºü",
                        "options": ["Âè™ÂõûÁ≠îÊúâÊ†áÂáÜÁ≠îÊ°àÁöÑÈóÆÈ¢ò", "ËÆ©Â≠©Â≠êÂè™Â≠¶ÊúâÁî®ÁöÑÁü•ËØÜ", "ÈºìÂä±ÊèêÈóÆÂπ∂Êèê‰æõÊé¢Á¥¢Êú∫‰ºö", "ÈÅøÂÖçÂ≠©Â≠êÁäØ‰ªª‰ΩïÈîôËØØ"],
                        "answer": "ÈºìÂä±ÊèêÈóÆÂπ∂Êèê‰æõÊé¢Á¥¢Êú∫‰ºö",
                        "explanation": "Â•ΩÂ•áÂøÉÈúÄË¶ÅÈÄöËøá‰∏çÊñ≠ÁöÑÊèêÈóÆÂíåÊé¢Á¥¢Êù•ÊªãÂÖªÂíåÁª¥ÊåÅ„ÄÇ",
                        "userAnswer": null, "isCorrect": null, "submitted": false
                    }
                },
                {
                    "id": "c3_2",
                    "title": "Âª∫Á´ãËßÑÂæãÁöÑÂ≠¶‰π†‰π†ÊÉØ",
                    "isCollapsed": true,
                    "visualization": null,
                    "content": "<p>ËâØÂ•ΩÁöÑÂ≠¶‰π†‰π†ÊÉØÊúâÂä©‰∫éÊèêÈ´òÊïàÁéáÂíåÂüπÂÖªËá™ÂæãÔºö</p><ul><li><strong>Âõ∫ÂÆöÁöÑÂ≠¶‰π†Êó∂Èó¥ÂíåÂú∞ÁÇπ</strong>ÔºöÂ∏ÆÂä©Â≠©Â≠êÂª∫Á´ãÂ≠¶‰π†ÁöÑ‚Äú‰ª™ÂºèÊÑü‚Äù„ÄÇ</li><li><strong>ËÆæÂÆöÂêàÁêÜÁöÑÂ≠¶‰π†ÁõÆÊ†á</strong>ÔºöÂ∞ÜÂ§ß‰ªªÂä°ÂàÜËß£‰∏∫Â∞èÊ≠•È™§ÔºåËÆ©Â≠©Â≠êÊõ¥ÂÆπÊòìËé∑ÂæóÊàêÂ∞±ÊÑü„ÄÇ</li><li><strong>ÂüπÂÖª‰∏ìÊ≥®Âäõ</strong>ÔºöÂ≠¶‰π†Êó∂ÂáèÂ∞ëÁéØÂ¢ÉÂπ≤Êâ∞ÔºàÂ¶ÇÂÖ≥Èó≠ÁîµËßÜ„ÄÅÊî∂Ëµ∑Êó†ÂÖ≥Áé©ÂÖ∑Ôºâ„ÄÇ</li><li><strong>ÁªÉ‰π†Êó∂Èó¥ÁÆ°ÁêÜ</strong>Ôºö‰ΩøÁî®ËÆ°Êó∂Âô®Á≠âÂ∑•ÂÖ∑ÔºåÂ∏ÆÂä©Â≠©Â≠êÊÑüÁü•Êó∂Èó¥ÔºåÂ≠¶‰π†Âú®ËßÑÂÆöÊó∂Èó¥ÂÜÖÂÆåÊàê‰ªªÂä°„ÄÇ</li><li><strong>ÈòÖËØª‰π†ÊÉØÁöÑÂüπÂÖª</strong>ÔºöÊØèÂ§©ÂùöÊåÅÈòÖËØªÔºåÁ±ªÂûãÂèØ‰ª•Â§öÊ†∑Âåñ„ÄÇ</li></ul><p>‰π†ÊÉØÁöÑÂÖªÊàêÈúÄË¶ÅÊó∂Èó¥ÂíåËÄêÂøÉÔºåÂÆ∂ÈïøË¶ÅÂ§öÈºìÂä±ÔºåÂ∞ëÂÇ¨‰øÉ„ÄÇ</p>",
                    "tags": ["Â≠¶‰π†‰π†ÊÉØ", "Ëá™Âæã", "‰∏ìÊ≥®Âäõ", "Êó∂Èó¥ÁÆ°ÁêÜ", "ÈòÖËØª"],
                    "quiz": {
                        "question": "‰ª•‰∏ãÂì™È°π‰∏çÂà©‰∫éÂüπÂÖªÂ≠©Â≠êÁöÑ‰∏ìÊ≥®ÂäõÔºü",
                        "options": ["Âõ∫ÂÆöÁöÑÂ≠¶‰π†Âú∞ÁÇπ", "Â≠¶‰π†Êó∂ÂºÄÁùÄÁîµËßÜ", "Â∞Ü‰ªªÂä°ÂàÜËß£", "ÈºìÂä±Â≠©Â≠êÈòÖËØª"],
                        "answer": "Â≠¶‰π†Êó∂ÂºÄÁùÄÁîµËßÜ",
                        "explanation": "ÁîµËßÜÁ≠âÂπ≤Êâ∞Áâ©‰ºö‰∏•ÈáçÂàÜÊï£Â≠©Â≠êÁöÑÊ≥®ÊÑèÂäõÔºå‰∏çÂà©‰∫é‰∏ìÊ≥®ÂäõÁöÑÂüπÂÖª„ÄÇ",
                        "userAnswer": null, "isCorrect": null, "submitted": false
                    }
                }
            ]
        },
        {
            "id": "sec4",
            "title": "Ë°å‰∏∫ÁÆ°ÁêÜ‰∏éËßÑÂàôÂª∫Á´ã",
            "isNavCollapsed": false,
            "cards": [
                {
                    "id": "c4_1",
                    "title": "ËÆæÂÆöÊ∏ÖÊô∞ÁöÑÂÆ∂Â∫≠ËßÑÂàô",
                    "isCollapsed": false,
                    "visualization": null,
                    "content": "<p>Ê∏ÖÊô∞„ÄÅ‰∏ÄËá¥ÁöÑËßÑÂàôÁªôÂ≠©Â≠êÊèê‰æõÂÆâÂÖ®ÊÑüÂíåË°å‰∏∫ÊåáÂØºÔºö</p><ul><li><strong>ËßÑÂàôË¶ÅÂ∞ëËÄåÁ≤æ</strong>ÔºöÈÄâÊã©ÊúÄÈáçË¶ÅÁöÑÂá†Êù°ËßÑÂàôÔºåÈÅøÂÖçËøáÂ§öÈôêÂà∂„ÄÇ</li><li><strong>‰∏éÂ≠©Â≠êÂÖ±ÂêåÂà∂ÂÆö</strong>ÔºöÈÇÄËØ∑Â≠©Â≠êÂèÇ‰∏éËÆ®ËÆ∫ÔºåÂ¢ûÂº∫ÂÖ∂ËßÑÂàôËÆ§ÂêåÊÑü„ÄÇ</li><li><strong>ËßÑÂàôË¶ÅÂÖ∑‰ΩìÂèØË°å</strong>ÔºöÊòéÁ°ÆËØ¥ÊòéÂèØ‰ª•ÂÅö‰ªÄ‰πàÔºå‰∏çÂèØ‰ª•ÂÅö‰ªÄ‰πà„ÄÇ</li><li><strong>ÂêéÊûúË¶ÅÊèêÂâçÂëäÁü•</strong>ÔºöËÆ©Â≠©Â≠êÊ∏ÖÊ•öËøùÂèçËßÑÂàôÂèØËÉΩÈù¢‰∏¥ÁöÑËá™ÁÑ∂ÂêéÊûúÊàñÈÄªËæëÂêéÊûú„ÄÇ</li><li><strong>Âº∫Ë∞ÉË°å‰∏∫ËÄåÈùû‰∫∫</strong>ÔºöÊâπËØÑÂ≠©Â≠êÁöÑÂÖ∑‰ΩìË°å‰∏∫ÔºåËÄå‰∏çÊòØÁªô‰ªñË¥¥Ê†áÁ≠æÔºàÂ¶ÇÔºö‚ÄúÊâì‰∫∫ÊòØ‰∏çÂØπÁöÑ‚Äù vs ‚Äú‰Ω†ÊòØ‰∏™ÂùèÂ≠©Â≠ê‚ÄùÔºâ„ÄÇ</li></ul>",
                    "tags": ["Ë°å‰∏∫ÁÆ°ÁêÜ", "ËßÑÂàôÂª∫Á´ã", "ÂÆ∂Â∫≠ËßÑÂàô", "ÂêéÊûú"],
                    "quiz": {
                        "question": "Âà∂ÂÆöÂÆ∂Â∫≠ËßÑÂàôÊó∂ÔºåÊØîËæÉÊé®ËçêÁöÑÂÅöÊ≥ïÊòØÔºü",
                        "options": ["ËßÑÂàôË∂äÂ§öË∂äÂ•Ω", "ËßÑÂàôÁî±ÂÆ∂ÈïøÂçïÊñπÈù¢ÂÜ≥ÂÆö", "‰∏éÂ≠©Â≠êÂÖ±ÂêåÂà∂ÂÆöÂ∞ëÊï∞ÈáçË¶ÅËßÑÂàô", "Âè™ÊÉ©ÁΩö‰∏çËß£Èáä"],
                        "answer": "‰∏éÂ≠©Â≠êÂÖ±ÂêåÂà∂ÂÆöÂ∞ëÊï∞ÈáçË¶ÅËßÑÂàô",
                        "explanation": "ËÆ©Â≠©Â≠êÂèÇ‰∏éÂà∂ÂÆöËßÑÂàôËÉΩÂ¢ûÂº∫ÂÖ∂ÈÅµÂÆàËßÑÂàôÁöÑÊÑèÊÑøÂíåË¥£‰ªªÊÑü„ÄÇ",
                        "userAnswer": null, "isCorrect": null, "submitted": false
                    }
                },
                {
                    "id": "c4_2",
                    "title": "ËøêÁî®Ëá™ÁÑ∂ÂêéÊûú‰∏éÈÄªËæëÂêéÊûú",
                    "isCollapsed": true,
                    "visualization": {
                        "type": "mermaid",
                        "data": "graph TD\nA(Â≠©Â≠êË°å‰∏∫) --> B(‰∏çÂêàÁêÜ?);\nB -- ÊòØ --> C{ÂêéÊûú};\nC --> D(Ëá™ÁÑ∂ÂêéÊûú<br>Â¶Ç:‰∏çÂêÉÈ•≠‰ºöÈ•ø);\nC --> E(ÈÄªËæëÂêéÊûú<br>Áõ∏ÂÖ≥/Â∞äÈáç/ÂêàÁêÜ);\nB -- Âê¶ --> F(ÈºìÂä±/Ë°®Êâ¨);"
                    },
                    "content": "<p>ÂΩìÂ≠©Â≠êË°å‰∏∫‰∏çÂΩìÊó∂Ôºå‰ºòÂÖàËÄÉËôë‰ΩøÁî®Ëá™ÁÑ∂ÂêéÊûúÂíåÈÄªËæëÂêéÊûúÔºåËÄåÈùûÊÉ©ÁΩöÔºö</p><ul><li><strong>Ëá™ÁÑ∂ÂêéÊûú</strong>ÔºöË°å‰∏∫Áõ¥Êé•ÂØºËá¥ÁöÑÁªìÊûúÔºàÂ¶ÇÔºöÂÜ¨Â§©‰∏çÁ©øÂ§ñÂ•ó‰ºöÂÜ∑Ôºâ„ÄÇ</li><li><strong>ÈÄªËæëÂêéÊûú</strong>ÔºöÁî±Â§ß‰∫∫ËÆæÂÆöÔºå‰ΩÜ‰∏éË°å‰∏∫ÊúâÈÄªËæëÂÖ≥ËÅî„ÄÅÂ∞äÈáçÂ≠©Â≠ê‰∏îÂêàÁêÜÔºàÂ¶ÇÔºöÁé©ÂÖ∑‰∏çÊî∂ÊãæÂ•ΩÔºåÊöÇÊó∂‰∏çËÉΩÁé©Ôºâ„ÄÇ</li><li><strong>ÂÆûÊñΩÂâçÊèêÈÜí</strong>ÔºöÂèØ‰ª•ÁªôÂ≠©Â≠ê‰∏ÄÊ¨°Êú∫‰ºöÊîπÊ≠£„ÄÇ</li><li><strong>ÊÄÅÂ∫¶Âπ≥ÂíåÂùöÂÆö</strong>ÔºöÂÆûÊñΩÂêéÊûúÊó∂ÔºåËØ≠Ê∞î‰øùÊåÅ‰∏≠ÊÄßÔºåÈÅøÂÖçÊåáË¥£„ÄÇ</li><li><strong>Âå∫ÂàÜÂêéÊûú‰∏éÊÉ©ÁΩö</strong>ÔºöÂêéÊûúÊó®Âú®Â∏ÆÂä©Â≠©Â≠êÂ≠¶‰π†ÂíåÊâøÊãÖË¥£‰ªªÔºåÊÉ©ÁΩöÂàô‰æßÈáç‰∫é‰ΩøÂ≠©Â≠êÁóõËã¶„ÄÇ</li></ul>",
                    "tags": ["Ë°å‰∏∫ÁÆ°ÁêÜ", "Ëá™ÁÑ∂ÂêéÊûú", "ÈÄªËæëÂêéÊûú", "Ê≠£Èù¢ÁÆ°Êïô"],
                    "quiz": {
                        "question": "Â≠©Â≠êÂêÉÈ•≠Êó∂Áé©Áé©ÂÖ∑ÔºåÂØºËá¥È•≠Âáâ‰∫ÜÂêÉ‰∏ç‰∏ãÔºåËøôÂ±û‰∫éÔºü",
                        "options": ["Ëá™ÁÑ∂ÂêéÊûú", "ÈÄªËæëÂêéÊûú", "ÊÉ©ÁΩö", "Â•ñÂä±"],
                        "answer": "Ëá™ÁÑ∂ÂêéÊûú",
                        "explanation": "È•≠Âáâ‰∫ÜÊòØÂêÉÈ•≠Êó∂Áé©Áé©ÂÖ∑Ëøô‰∏ÄË°å‰∏∫Áõ¥Êé•ÂØºËá¥ÁöÑÁªìÊûúÔºåÊó†ÈúÄ‰∫∫‰∏∫Âπ≤È¢Ñ„ÄÇ",
                        "userAnswer": null, "isCorrect": null, "submitted": false
                    }
                }
            ]
        },
        {
            "id": "sec5",
            "title": "ÂÖ≥Ê≥®Ë∫´ÂøÉÂÅ•Â∫∑‰∏éÂèëÂ±ï",
            "isNavCollapsed": false,
            "cards": [
                {
                    "id": "c5_1",
                    "title": "‰øùËØÅÂÖÖË∂≥Áù°Áú†‰∏éÂÅ•Â∫∑È•ÆÈ£ü",
                    "isCollapsed": false,
                    "visualization": null,
                    "content": "<p>Ë∫´ÂøÉÂÅ•Â∫∑ÊòØÂ≠©Â≠ê‰∏ÄÂàáÂèëÂ±ïÁöÑÂü∫Á°ÄÔºö</p><ul><li><strong>ÂÖÖË∂≥Áù°Áú†</strong>Ôºö7Â≤ÅÂ≠©Â≠êÈÄöÂ∏∏ÈúÄË¶Å9-11Â∞èÊó∂ÁöÑÂ§úÈó¥Áù°Áú†ÔºåÂª∫Á´ãËßÑÂæãÁöÑÁù°ÂâçÁ®ãÂ∫è„ÄÇ</li><li><strong>ÂùáË°°È•ÆÈ£ü</strong>Ôºö‰øùËØÅËõãÁôΩË¥®„ÄÅËî¨Ëèú„ÄÅÊ∞¥Êûú„ÄÅË∞∑Áâ©ÁöÑÂùáË°°ÊëÑÂÖ•ÔºåÈôêÂà∂È´òÁ≥ñ„ÄÅÈ´òÊ≤πÈ£üÁâ©„ÄÇ</li><li><strong>ËßÑÂæã‰ΩúÊÅØ</strong>ÔºöÂ∞ΩÈáè‰øùÊåÅÊØèÂ§©ÂêÉÈ•≠„ÄÅÁù°ËßâÊó∂Èó¥ÁöÑËßÑÂæãÊÄß„ÄÇ</li><li><strong>ÈºìÂä±ÂñùÊ∞¥</strong>ÔºöÂÖÖË∂≥ÁöÑÊ∞¥ÂàÜÂØπË∫´‰ΩìÊú∫ËÉΩÂæàÈáçË¶Å„ÄÇ</li><li><strong>È§êÊ°åÊ∞õÂõ¥</strong>ÔºöËê•ÈÄ†ËΩªÊùæÊÑâÂø´ÁöÑÁî®È§êÊ∞õÂõ¥ÔºåÈÅøÂÖçÂº∫Ëø´ËøõÈ£ü„ÄÇ</li></ul>",
                    "tags": ["ÂÅ•Â∫∑", "Áù°Áú†", "È•ÆÈ£ü", "ËßÑÂæã‰ΩúÊÅØ"],
                    "quiz": {
                        "question": "7Â≤ÅÂ≠©Â≠êÂª∫ËÆÆÁöÑÂ§úÈó¥Áù°Áú†Êó∂ÈïøÂ§ßÁ∫¶ÊòØÔºü",
                        "options": ["6-7Â∞èÊó∂", "7-8Â∞èÊó∂", "9-11Â∞èÊó∂", "12Â∞èÊó∂‰ª•‰∏ä"],
                        "answer": "9-11Â∞èÊó∂",
                        "explanation": "ÂÖÖË∂≥ÁöÑÁù°Áú†ÂØπÂ≠¶ÈæÑÂÑøÁ´•ÁöÑË∫´‰ΩìÂèëËÇ≤„ÄÅÊÉÖÁª™Á®≥ÂÆöÂíåÂ≠¶‰π†ËÉΩÂäõËá≥ÂÖ≥ÈáçË¶Å„ÄÇ",
                        "userAnswer": null, "isCorrect": null, "submitted": false
                    }
                },
                {
                    "id": "c5_2",
                    "title": "ÈºìÂä±Êà∑Â§ñÊ¥ªÂä®‰∏é‰ΩìËÇ≤ÈîªÁÇº",
                    "isCollapsed": true,
                    "visualization": null,
                    "content": "<p>ËøêÂä®ÂØπÁî∑Â≠©ÁöÑË∫´ÂøÉÂèëÂ±ïÁõäÂ§ÑÂ§öÂ§öÔºö</p><ul><li><strong>‰øÉËøõÂ§ßËÇåËÇâÂèëÂ±ï</strong>ÔºöË∑ë„ÄÅË∑≥„ÄÅÊîÄÁà¨Á≠âÊ¥ªÂä®ÊúâÂä©‰∫éÂäõÈáè„ÄÅÂçèË∞ÉÊÄßÂíåÂπ≥Ë°°ÊÑüÁöÑÊèêÂçá„ÄÇ</li><li><strong>ÈáäÊîæÁ≤æÂäõ</strong>ÔºöÁî∑Â≠©ÈÄöÂ∏∏Á≤æÂäõÊó∫ÁõõÔºåÊà∑Â§ñÊ¥ªÂä®ÊòØÂÅ•Â∫∑ÁöÑËÉΩÈáèÈáäÊîæÈÄîÂæÑ„ÄÇ</li><li><strong>Â¢ûÂº∫ÂÖçÁñ´Âäõ</strong>ÔºöÈÄÇÂ∫¶ÁöÑÊà∑Â§ñÊ¥ªÂä®ÂíåÈò≥ÂÖâÁÖßÂ∞ÑÊúâÂä©‰∫éÂ¢ûÂº∫ÊäµÊäóÂäõ„ÄÇ</li><li><strong>ÊîπÂñÑÊÉÖÁª™</strong>ÔºöËøêÂä®ËÉΩ‰øÉËøõÂ§öÂ∑¥ËÉ∫ÂàÜÊ≥åÔºåÂ∏¶Êù•ÊÑâÊÇ¶ÊÑü„ÄÇ</li><li><strong>Âõ¢ÈòüËøêÂä®ÂüπÂÖªÂçè‰Ωú</strong>ÔºöÂèÇ‰∏é‰∏Ä‰∫õÂõ¢ÈòüËøêÂä®ÔºàÂ¶ÇË∂≥ÁêÉ„ÄÅÁØÆÁêÉÔºâÊúâÂä©‰∫éÂ≠¶‰π†Âêà‰Ωú‰∏éËßÑÂàô„ÄÇ</li></ul><p>‰øùËØÅÊØèÂ§©Ëá≥Â∞ë1Â∞èÊó∂ÁöÑÊà∑Â§ñÊ¥ªÂä®Êó∂Èó¥„ÄÇ</p>",
                    "tags": ["ÂÅ•Â∫∑", "ËøêÂä®", "Êà∑Â§ñÊ¥ªÂä®", "Â§ßËÇåËÇâÂèëÂ±ï", "Âõ¢ÈòüÂêà‰Ωú"],
                    "quiz": {
                        "question": "ÈºìÂä±7Â≤ÅÁî∑Â≠©ËøõË°åÊà∑Â§ñÊ¥ªÂä®ÁöÑ‰∏ªË¶ÅÂ•ΩÂ§Ñ‰∏çÂåÖÊã¨Ôºü",
                        "options": ["‰øÉËøõÂ§ßËÇåËÇâÂèëÂ±ï", "ÈáäÊîæËøáÂâ©Á≤æÂäõ", "ÊòæËëóÊèêÈ´òËÄÉËØïÊàêÁª©", "ÊîπÂñÑÊÉÖÁª™"],
                        "answer": "ÊòæËëóÊèêÈ´òËÄÉËØïÊàêÁª©",
                        "explanation": "ËôΩÁÑ∂ËøêÂä®ÂØπÂ§ßËÑëÊúâÁõäÔºå‰ΩÜÂÖ∂‰∏ªË¶ÅÂ•ΩÂ§ÑÂú®‰∫éË∫´‰Ωì„ÄÅÊÉÖÁª™ÂíåÁ§æ‰∫§ÊñπÈù¢ÔºåËÄåÈùûÁõ¥Êé•„ÄÅÊòæËëóÂú∞ÊèêÈ´òËÄÉËØïÂàÜÊï∞„ÄÇ",
                        "userAnswer": null, "isCorrect": null, "submitted": false
                    }
                }
            ]
        }
    ]
}
                }
            },
            computed: {
                globalProgress() {
                    let totalQuizzes = 0;
                    let submittedQuizzes = 0;
                    this.learningData.sections.forEach(section => {
                        section.cards.forEach(card => {
                            if (card.quiz) {
                                totalQuizzes++;
                                if (card.quiz.submitted) {
                                    submittedQuizzes++;
                                }
                            }
                        });
                    });
                    return totalQuizzes === 0 ? 0 : submittedQuizzes / totalQuizzes;
                },
                exportDataString() {
                    const dataToExport = JSON.parse(JSON.stringify(this.learningData));
                    dataToExport.sections.forEach(section => {
                        delete section.isNavCollapsed;
                        section.cards.forEach(card => {
                            delete card.isCollapsed;
                            // Ensure quiz progress is included, remove original answer maybe?
                            // Keeping full quiz for simplicity here
                        });
                    });
                    return JSON.stringify(dataToExport, null, 2);
                }
            },
            methods: {
                renderMermaid(cardId) {
                     this.$nextTick(() => {
                        const element = document.getElementById(`mermaid-${cardId}`);
                        const card = this.findCardById(cardId);
                        if (element && card && card.visualization?.type === 'mermaid' && !card.isCollapsed) {
                             try {
                                element.innerHTML = card.visualization.data;
                                element.removeAttribute('data-processed');
                                mermaid.run({ nodes: [element] });
                            } catch (e) {
                                console.error("Mermaid rendering error:", e);
                                element.innerHTML = "Error rendering diagram.";
                            }
                        }
                    });
                },
                findCardById(cardId) {
                     for (const section of this.learningData.sections) {
                        const card = section.cards.find(c => c.id === cardId);
                        if (card) return card;
                    }
                    return null;
                },
                toggleCard(card) {
                    card.isCollapsed = !card.isCollapsed;
                    if (!card.isCollapsed && card.visualization?.type === 'mermaid') {
                        this.renderMermaid(card.id);
                    }
                 },
                submitQuiz(card) {
                     if (card.quiz.userAnswer !== null && !card.quiz.submitted) {
                        card.quiz.submitted = true;
                        card.quiz.isCorrect = card.quiz.userAnswer === card.quiz.answer;
                    }
                },
                getSectionStatusIcon(section) {
                    const totalQuizzes = section.cards.filter(c => c.quiz).length;
                    if (totalQuizzes === 0) return '';
                    
                    const submittedQuizzes = section.cards.filter(card => card.quiz?.submitted).length;
                    
                    if (submittedQuizzes === 0) {
                        return '‚ö™'; // Êú™ÂºÄÂßã
                    } else if (submittedQuizzes === totalQuizzes) {
                        return '‚úÖ'; // ÊâÄÊúâÂç°ÁâáÂ∑≤Êèê‰∫§
                    } else {
                        return 'üü°'; // ÈÉ®ÂàÜÂç°ÁâáÂ∑≤Êèê‰∫§
                    }
                },
                scrollToCard(cardId) {
                    const cardElement = document.getElementById('card-' + cardId);
                    if (cardElement) {
                        const card = this.findCardById(cardId);
                        if (card && card.isCollapsed) {
                            this.toggleCard(card);
                        }
                        this.$nextTick(() => {
                             cardElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                              // Slightly enhanced highlight
                              cardElement.style.transition = 'box-shadow 0.5s ease-in-out';
                              cardElement.style.boxShadow = '0 0 0 3px rgba(96, 165, 250, 0.5)'; // blue-300 ring
                             setTimeout(() => {
                                cardElement.style.boxShadow = '';
                            }, 1500);
                        });
                    }
                },
                downloadJson() { /* Same as v2 */
                    const blob = new Blob([this.exportDataString], { type: 'application/json' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    const filename = `${this.learningData.title.replace(/\s+/g, '_')}_progress.json`;
                    a.download = filename;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                    this.showExportModal = false;
                },
                // New method for tag styling
                getTagClass(tag) {
                    const lowerTag = tag.toLowerCase();
                    if (lowerTag.includes('js') || lowerTag.includes('javascript') || lowerTag.includes('es6')) return 'tag-js';
                    if (lowerTag.includes('html')) return 'tag-html';
                    if (lowerTag.includes('css')) return 'tag-css';
                    if (lowerTag.includes('vue')) return 'tag-vue';
                    return 'tag-general'; // Default
                },
                expandAllCards() {
                    this.learningData.sections.forEach(section => {
                        section.cards.forEach(card => {
                            if (card.isCollapsed) {
                                card.isCollapsed = false;
                                if (card.visualization?.type === 'mermaid') {
                                    this.renderMermaid(card.id);
                                }
                            }
                        });
                    });
                },
                collapseAllCards() {
                    this.learningData.sections.forEach(section => {
                        section.cards.forEach(card => {
                            card.isCollapsed = true;
                        });
                    });
                }
            },
            mounted() { /* Mostly same as v2 */
                // Initialize Clipboard.js
                this.$nextTick(() => {
                    if (document.getElementById('copyBtn')) {
                         const clipboard = new ClipboardJS('#copyBtn');
                         const feedbackEl = document.getElementById('copyFeedback');
                        clipboard.on('success', function(e) {
                            if(feedbackEl) feedbackEl.innerText = 'Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø!';
                            e.clearSelection();
                            setTimeout(() => { if(feedbackEl) feedbackEl.innerText = ''; }, 2000);
                        });
                        clipboard.on('error', function(e) {
                             if(feedbackEl) feedbackEl.innerText = 'Â§çÂà∂Â§±Ë¥•.';
                             setTimeout(() => { if(feedbackEl) feedbackEl.innerText = ''; }, 2000);
                        });
                    }
                });

                 // Initial render & setup
                 this.learningData.sections.forEach(section => {
                     section.cards.forEach(card => {
                        if (card.visualization?.type === 'mermaid' && !card.isCollapsed) {
                            this.renderMermaid(card.id);
                        }
                        if (card.quiz && card.quiz.userAnswer === undefined) {
                            card.quiz.userAnswer = null;
                            card.quiz.isCorrect = null;
                            card.quiz.submitted = false;
                        }
                        // Initialize tags if needed (data structure should provide it)
                        if (card.tags === undefined) {
                            card.tags = [];
                        }
                    });
                });
            }
        });

        app.mount('#app');
    </script>
</body>
</html> 